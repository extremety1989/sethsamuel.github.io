{"version":3,"sources":["webpack:///mandelbrot.js","webpack:///webpack/bootstrap 1b4e8a641ae7d993bd56?5cee**","webpack:///./js/gol/webgl.js?307a*","webpack:///./js/gol/programs/identity2d.js?e399*","webpack:///./js/gol/render-program.js?ee01*","webpack:///./js/gol/state-program.js?51fa*","webpack:///./js/gol/programs/mandelbrot.js","webpack:///./js/mandelbrot.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","0","1","createProgram","vertexSource","fragmentSource","resize","size","Math","pow","floor","log2","min","window","innerWidth","innerHeight","scale","canvas","width","height","style","gl","viewport","arguments","length","undefined","document","body","querySelector","getContext","addEventListener","clearColor","clear","COLOR_BUFFER_BIT","vertexShader","createShader","VERTEX_SHADER","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","Error","getShaderInfoLog","console","log","fragmentShader","FRAGMENT_SHADER","shaderProgram","attachShader","linkProgram","getProgramParameter","LINK_STATUS","useProgram","createTexture","tTexture","activeTexture","TEXTURE0","bindTexture","TEXTURE_2D","texParameteri","TEXTURE_MIN_FILTER","NEAREST","TEXTURE_MAG_FILTER","TEXTURE_WRAP_S","REPEAT","TEXTURE_WRAP_T","Object","defineProperty","value","2","Identity2D","3","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","i","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","_webgl","RenderProgram","_ref","_ref$scale","this","_createProgram","currentState","vertexBuffer","createBuffer","bindBuffer","ARRAY_BUFFER","vertices","bufferData","Float32Array","STATIC_DRAW","aPosition","getAttribLocation","enableVertexAttribArray","vertexAttribPointer","FLOAT","uWidth","getUniformLocation","uniform1f","stateTexture","predraw","uScale","drawArrays","TRIANGLE_STRIP","4","StateProgram","iteration","uShouldUpdate","uIteration","tTexture0","tTexture1","frameBuffer","createFramebuffer","bindFramebuffer","FRAMEBUFFER","texImage2D","RGBA","UNSIGNED_BYTE","renderBuffer","createRenderbuffer","bindRenderbuffer","RENDERBUFFER","renderbufferStorage","DEPTH_COMPONENT16","framebufferRenderbuffer","DEPTH_ATTACHMENT","state","uniform1i","_ref2","mousePosition","uMousePosition","uniform2f","framebufferTexture2D","COLOR_ATTACHMENT0","18","Mandelbrot","22","_interopRequireDefault","obj","__esModule","default","draw","golRenderProgram","golStateProgram","isPaused","incrementState","requestAnimationFrame","_stateProgram","_stateProgram2","_renderProgram","_renderProgram2","_mandelbrot","_mandelbrot2","_identity2d","_identity2d2","createElement","appendChild","initialArray","Array","fill","time","setState","ImageData","Uint8ClampedArray","timeEnd","evt"],"mappings":"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","file":"mandelbrot.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ 0:\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(22);\n\n\n/***/ },\n\n/***/ 1:\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.createProgram = createProgram;\n\texports.createTexture = createTexture;\n\tfunction createProgram(vertexSource, fragmentSource) {\n\t\tvar scale = arguments.length <= 2 || arguments[2] === undefined ? 1 : arguments[2];\n\t\n\t\t// GLOBALS\n\t\tvar body = document.body;\n\t\tvar canvas = document.querySelector('canvas');\n\t\tvar gl = canvas.getContext('webgl2');\n\t\t// END GLOBALS\n\t\n\t\t// BEGIN WINDOW SIZING\n\t\tfunction resize() {\n\t\t\tvar size = Math.pow(2, Math.floor(Math.log2(Math.min(window.innerWidth, window.innerHeight)))) * 2 * scale;\n\t\t\t// const size = 256;\n\t\t\tcanvas.width = size;\n\t\t\tcanvas.height = size;\n\t\t\tcanvas.style.width = size / 2 + 'px';\n\t\t\tcanvas.style.height = size / 2 + 'px';\n\t\n\t\t\t// Set viewport\n\t\t\tgl.viewport(0, 0, canvas.width, canvas.height);\n\t\t}\n\t\tresize();\n\t\n\t\twindow.addEventListener('resize', resize);\n\t\t// END WINDOW SIZING\n\t\n\t\t// GL SETTINGS\n\t\n\t\t// Color to draw on clear\n\t\tgl.clearColor(0, 0, 0, 1);\n\t\n\t\t// Clear buffers\n\t\tgl.clear(gl.COLOR_BUFFER_BIT);\n\t\n\t\t// END GL SETTINGS\n\t\n\t\t// INITIALIZE SHADERS\n\t\n\t\t// CREATE VERTEX SHADER\n\t\tvar vertexShader = gl.createShader(gl.VERTEX_SHADER);\n\t\tgl.shaderSource(vertexShader, vertexSource);\n\t\tgl.compileShader(vertexShader);\n\t\tif (!gl.getShaderParameter(vertexShader, gl.COMPILE_STATUS)) {\n\t\t\tthrow new Error(\"An error occurred compiling the shader: \" + gl.getShaderInfoLog(vertexShader));\n\t\t} else {\n\t\t\tconsole.log(\"Vertex shader compiled\");\n\t\t}\n\t\t// END CREATE VERTEX SHADER\n\t\n\t\t// CREATE FRAGMENT SHADER\n\t\tvar fragmentShader = gl.createShader(gl.FRAGMENT_SHADER);\n\t\tgl.shaderSource(fragmentShader, fragmentSource);\n\t\tgl.compileShader(fragmentShader);\n\t\tif (!gl.getShaderParameter(fragmentShader, gl.COMPILE_STATUS)) {\n\t\t\tthrow new Error(\"An error occurred compiling the shader: \" + gl.getShaderInfoLog(fragmentShader));\n\t\t} else {\n\t\t\tconsole.log(\"Fragment shader compiled\");\n\t\t}\n\t\t// END CREATE FRAGMENT SHADER\n\t\n\t\t// COMPILE PROGRAM\n\t\tvar shaderProgram = gl.createProgram();\n\t\tgl.attachShader(shaderProgram, vertexShader);\n\t\tgl.attachShader(shaderProgram, fragmentShader);\n\t\tgl.linkProgram(shaderProgram);\n\t\n\t\tif (!gl.getProgramParameter(shaderProgram, gl.LINK_STATUS)) {\n\t\t\tthrow new Error(\"Unable to initialize the shader program.\");\n\t\t} else {\n\t\t\tconsole.log(\"Initialized shader program\");\n\t\t}\n\t\tgl.useProgram(shaderProgram);\n\t\t// END COMPILE PROGRAM\n\t\n\t\t// END INITIALIZE SHADERS\n\t\n\t\treturn { gl: gl, shaderProgram: shaderProgram };\n\t}\n\t\n\tfunction createTexture() {\n\t\tvar gl = document.querySelector('canvas').getContext('webgl2');\n\t\tvar tTexture = gl.createTexture();\n\t\tgl.activeTexture(gl.TEXTURE0);\n\t\tgl.bindTexture(gl.TEXTURE_2D, tTexture);\n\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.REPEAT);\n\t\t// gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.REPEAT);\n\t\t// gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n\t\tgl.bindTexture(gl.TEXTURE_2D, null);\n\t\treturn tTexture;\n\t}\n\n/***/ },\n\n/***/ 2:\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\tvar Identity2D = {\n\t\tvertexSource: \"#version 300 es\\n\\t\\tprecision highp float;\\n\\t\\tin vec3 aPosition;\\n\\t\\tout vec2 vTexturePosition;\\n\\t\\tout vec2 vPosition;\\n\\t\\tvoid main(void) {\\n\\t\\t\\tvPosition = aPosition.xy;\\n\\t\\t\\tvTexturePosition = vec2(aPosition.x + 1.0, -1.0 + aPosition.y) * 0.5;\\n\\t\\t\\tgl_Position = vec4(aPosition, 1.0);\\n\\t\\t}\\n\\t\",\n\t\tfragmentSource: \"#version 300 es\\n\\t\\tprecision highp float;\\n\\t\\tuniform sampler2D uSampler;\\n\\t\\tuniform float uScale;\\n\\t\\tin vec2 vTexturePosition;\\n\\t\\tin vec2 vPosition;\\n\\t\\tout vec4 fragmentColor;\\n\\n\\t\\tvoid main(void) {\\n\\t\\t\\tfragmentColor = texture(uSampler, vTexturePosition/uScale);\\n\\t\\t}\\n\\t\"\n\t};\n\t\n\texports.default = Identity2D;\n\n/***/ },\n\n/***/ 3:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _webgl = __webpack_require__(1);\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar RenderProgram = function () {\n\t\tfunction RenderProgram(_ref) {\n\t\t\tvar shaderSource = _ref.shaderSource;\n\t\t\tvar _ref$scale = _ref.scale;\n\t\t\tvar scale = _ref$scale === undefined ? 1 : _ref$scale;\n\t\n\t\t\t_classCallCheck(this, RenderProgram);\n\t\n\t\t\tvar _createProgram = (0, _webgl.createProgram)(shaderSource.vertexSource, shaderSource.fragmentSource, scale);\n\t\n\t\t\tvar gl = _createProgram.gl;\n\t\t\tvar shaderProgram = _createProgram.shaderProgram;\n\t\n\t\t\tthis.gl = gl;\n\t\t\tthis.shaderProgram = shaderProgram;\n\t\t\tthis.currentState = 0;\n\t\n\t\t\t// INITIALIZE BUFFERS\n\t\t\tthis.vertexBuffer = gl.createBuffer();\n\t\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.vertexBuffer);\n\t\t\tthis.vertices = [1, 1, 0, -1, 1, 0, 1, -1, 0, -1, -1, 0];\n\t\t\tgl.bufferData(gl.ARRAY_BUFFER, new Float32Array(this.vertices), gl.STATIC_DRAW);\n\t\t\t// END INITIALIZE BUFFERS\n\t\n\t\t\t// POINTERS\n\t\t\tvar aPosition = gl.getAttribLocation(shaderProgram, \"aPosition\");\n\t\t\tgl.enableVertexAttribArray(aPosition);\n\t\t\t//gl.vertexAttribPointer(index, size, type, normalized, stride, offset);\n\t\t\tgl.vertexAttribPointer(aPosition, 3, gl.FLOAT, false, 0, 0);\n\t\n\t\t\tvar uWidth = gl.getUniformLocation(shaderProgram, \"uWidth\");\n\t\t\tgl.uniform1f(uWidth, gl.canvas.width);\n\t\t}\n\t\n\t\t_createClass(RenderProgram, [{\n\t\t\tkey: \"draw\",\n\t\t\tvalue: function draw(stateTexture) {\n\t\t\t\tvar predraw = arguments.length <= 1 || arguments[1] === undefined ? function () {} : arguments[1];\n\t\n\t\t\t\tvar gl = this.gl;\n\t\n\t\t\t\tgl.useProgram(this.shaderProgram);\n\t\t\t\tvar uScale = gl.getUniformLocation(this.shaderProgram, \"uScale\");\n\t\t\t\tgl.uniform1f(uScale, 1);\n\t\t\t\tpredraw();\n\t\t\t\tgl.bindTexture(gl.TEXTURE_2D, stateTexture);\n\t\t\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.vertexBuffer);\n\t\t\t\tgl.drawArrays(gl.TRIANGLE_STRIP, 0, this.vertices.length / 3);\n\t\t\t\tgl.bindBuffer(gl.ARRAY_BUFFER, null);\n\t\t\t\tgl.bindTexture(gl.TEXTURE_2D, null);\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn RenderProgram;\n\t}();\n\t\n\texports.default = RenderProgram;\n\n/***/ },\n\n/***/ 4:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _webgl = __webpack_require__(1);\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar StateProgram = function () {\n\t\tfunction StateProgram(_ref) {\n\t\t\tvar shaderSource = _ref.shaderSource;\n\t\t\tvar _ref$scale = _ref.scale;\n\t\t\tvar scale = _ref$scale === undefined ? 1 : _ref$scale;\n\t\n\t\t\t_classCallCheck(this, StateProgram);\n\t\n\t\t\tvar _createProgram = (0, _webgl.createProgram)(shaderSource.vertexSource, shaderSource.fragmentSource, scale);\n\t\n\t\t\tvar gl = _createProgram.gl;\n\t\t\tvar shaderProgram = _createProgram.shaderProgram;\n\t\n\t\t\tthis.gl = gl;\n\t\t\tthis.shaderProgram = shaderProgram;\n\t\t\tthis.currentState = 0;\n\t\t\tthis.iteration = 0;\n\t\n\t\t\t// INITIALIZE BUFFERS\n\t\t\tthis.vertexBuffer = gl.createBuffer();\n\t\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.vertexBuffer);\n\t\t\tthis.vertices = [1, 1, 0, -1, 1, 0, 1, -1, 0, -1, -1, 0];\n\t\t\tgl.bufferData(gl.ARRAY_BUFFER, new Float32Array(this.vertices), gl.STATIC_DRAW);\n\t\t\t// END INITIALIZE BUFFERS\n\t\n\t\t\t// POINTERS\n\t\t\tvar aPosition = gl.getAttribLocation(shaderProgram, \"aPosition\");\n\t\t\tgl.enableVertexAttribArray(aPosition);\n\t\t\t//gl.vertexAttribPointer(index, size, type, normalized, stride, offset);\n\t\t\tgl.vertexAttribPointer(aPosition, 3, gl.FLOAT, false, 0, 0);\n\t\n\t\t\tvar uWidth = gl.getUniformLocation(shaderProgram, \"uWidth\");\n\t\t\tgl.uniform1f(uWidth, gl.canvas.width);\n\t\n\t\t\tthis.uShouldUpdate = gl.getUniformLocation(shaderProgram, \"uShouldUpdate\");\n\t\t\tthis.uIteration = gl.getUniformLocation(shaderProgram, \"uIteration\");\n\t\n\t\t\tthis.tTexture0 = (0, _webgl.createTexture)();\n\t\t\tthis.tTexture1 = (0, _webgl.createTexture)();\n\t\n\t\t\tthis.frameBuffer = gl.createFramebuffer();\n\t\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, this.frameBuffer);\n\t\t\tthis.frameBuffer.width = gl.canvas.width;\n\t\t\tthis.frameBuffer.height = gl.canvas.height;\n\t\t\tgl.bindTexture(gl.TEXTURE_2D, this.tTexture1);\n\t\t\tgl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, this.frameBuffer.width, this.frameBuffer.height, 0, gl.RGBA, gl.UNSIGNED_BYTE, null);\n\t\n\t\t\tvar renderBuffer = gl.createRenderbuffer();\n\t\t\tgl.bindRenderbuffer(gl.RENDERBUFFER, renderBuffer);\n\t\t\tgl.renderbufferStorage(gl.RENDERBUFFER, gl.DEPTH_COMPONENT16, this.frameBuffer.width, this.frameBuffer.height);\n\t\t\tgl.framebufferRenderbuffer(gl.FRAMEBUFFER, gl.DEPTH_ATTACHMENT, gl.RENDERBUFFER, renderBuffer);\n\t\n\t\t\tgl.bindRenderbuffer(gl.RENDERBUFFER, null);\n\t\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, null);\n\t\t}\n\t\n\t\t_createClass(StateProgram, [{\n\t\t\tkey: \"setState\",\n\t\t\tvalue: function setState(state) {\n\t\t\t\tvar gl = this.gl;\n\t\t\t\tgl.bindTexture(gl.TEXTURE_2D, this.tTexture0);\n\t\t\t\tgl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, state);\n\t\t\t\tgl.bindTexture(gl.TEXTURE_2D, null);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: \"drawState\",\n\t\t\tvalue: function drawState() {\n\t\t\t\tvar gl = this.gl;\n\t\t\t\tgl.useProgram(this.shaderProgram);\n\t\n\t\t\t\tgl.uniform1i(this.uShouldUpdate, 0);\n\t\n\t\t\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, null);\n\t\t\t\tif (this.currentState == 0) {\n\t\t\t\t\tgl.bindTexture(gl.TEXTURE_2D, this.tTexture0);\n\t\t\t\t} else {\n\t\t\t\t\tgl.bindTexture(gl.TEXTURE_2D, this.tTexture1);\n\t\t\t\t}\n\t\n\t\t\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.vertexBuffer);\n\t\t\t\tgl.drawArrays(gl.TRIANGLE_STRIP, 0, this.vertices.length / 3);\n\t\t\t\tgl.bindBuffer(gl.ARRAY_BUFFER, null);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: \"incrementState\",\n\t\t\tvalue: function incrementState() {\n\t\t\t\tvar _ref2 = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\t\n\t\t\t\tvar mousePosition = _ref2.mousePosition;\n\t\n\t\t\t\tvar gl = this.gl;\n\t\t\t\tgl.useProgram(this.shaderProgram);\n\t\n\t\t\t\tgl.uniform1i(this.uShouldUpdate, 1);\n\t\t\t\tgl.uniform1i(this.uIteration, this.iteration);\n\t\t\t\tthis.iteration++;\n\t\n\t\t\t\tvar uMousePosition = gl.getUniformLocation(this.shaderProgram, \"uMousePosition\");\n\t\t\t\tif (mousePosition && mousePosition.length == 2) {\n\t\t\t\t\tgl.uniform2f(uMousePosition, mousePosition[0], mousePosition[1]);\n\t\t\t\t} else {\n\t\t\t\t\tgl.uniform2f(uMousePosition, -10, -10);\n\t\t\t\t}\n\t\n\t\t\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, this.frameBuffer);\n\t\t\t\tif (this.currentState == 0) {\n\t\t\t\t\tgl.bindTexture(gl.TEXTURE_2D, this.tTexture0);\n\t\t\t\t\tgl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, this.tTexture1, 0);\n\t\t\t\t} else {\n\t\t\t\t\tgl.bindTexture(gl.TEXTURE_2D, this.tTexture1);\n\t\t\t\t\tgl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, this.tTexture0, 0);\n\t\t\t\t}\n\t\n\t\t\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.vertexBuffer);\n\t\t\t\tgl.drawArrays(gl.TRIANGLE_STRIP, 0, this.vertices.length / 3);\n\t\t\t\tgl.bindBuffer(gl.ARRAY_BUFFER, null);\n\t\n\t\t\t\tgl.bindTexture(gl.TEXTURE_2D, null);\n\t\t\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, null);\n\t\n\t\t\t\tthis.currentState = (this.currentState + 1) % 2;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: \"stateTexture\",\n\t\t\tvalue: function stateTexture() {\n\t\t\t\tif (this.currentState == 0) {\n\t\t\t\t\treturn this.tTexture0;\n\t\t\t\t} else {\n\t\t\t\t\treturn this.tTexture1;\n\t\t\t\t}\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn StateProgram;\n\t}();\n\t\n\texports.default = StateProgram;\n\n/***/ },\n\n/***/ 18:\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\tvar Mandelbrot = {\n\t\tvertexSource: \"#version 300 es\\n\\t\\tprecision highp float;\\n\\t\\tin vec3 aPosition;\\n\\t\\tout vec2 vTexturePosition;\\n\\t\\tout vec2 vPosition;\\n\\t\\tvoid main(void) {\\n\\t\\t\\tvPosition = aPosition.xy;\\n\\t\\t\\tvTexturePosition = vec2(aPosition.x + 1.0, (1.0 + aPosition.y)) * 0.5;\\n\\t\\t\\tgl_Position = vec4(aPosition, 1.0);\\n\\t\\t}\\n\\t\",\n\t\tfragmentSource: \"#version 300 es\\n\\t\\tprecision highp float;\\n\\t\\tuniform sampler2D uSampler;\\n\\t\\tuniform float uScale;\\n    uniform int uIteration;\\n\\t\\tin vec2 vTexturePosition;\\n\\t\\tin vec2 vPosition;\\n\\t\\tout vec4 fragmentColor;\\n\\n\\t\\tvoid main(void) {\\n\\t\\t\\tif (texture(uSampler, vTexturePosition).z > 0.0) {\\n\\t\\t\\t\\tfragmentColor = vec4(0,0,texture(uSampler, vTexturePosition).z,1.0);\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t} else if (uIteration > 1000) {\\n\\t\\t\\t\\tfragmentColor = vec4(0,0,0,1.0);\\n\\t\\t\\t\\tfragmentColor = vec4(texture(uSampler, vTexturePosition).xyz, 1.0);\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// x0 = scaled x coordinate of pixel (scaled to lie in the Mandelbrot X scale (-2.5, 1))\\n\\t\\t\\tfloat x0 = vTexturePosition.x * 3.5 - 2.5;\\n      //  y0 = scaled y coordinate of pixel (scaled to lie in the Mandelbrot Y scale (-1, 1))\\n\\t\\t\\tfloat y0 = vTexturePosition.y * 2.0 - 1.0;\\n      //  x = 0.0\\n      //  y = 0.0\\n      //  iteration = 0\\n      //  max_iteration = 1000\\n\\t\\t\\tfloat x = (texture(uSampler, vTexturePosition).x) * 3.5 - 2.5;\\n\\t\\t\\tfloat y = (texture(uSampler, vTexturePosition).y) * 2.0 - 1.0;\\n\\t\\t\\tif (uIteration == 0) {\\n\\t\\t\\t\\tx = 0.0;\\n\\t\\t\\t\\ty = 0.0;\\n\\t\\t\\t}\\n\\t\\t\\t//  while (x*x + y*y < 2*2  AND  iteration < max_iteration) {\\n      //    xtemp = x*x - y*y + x0\\n      //    y = 2*x*y + y0\\n      //    x = xtemp\\n      //    iteration = iteration + 1\\n      //  }\\n\\t\\t\\tif (x*x + y*y >= 1.0) {\\n\\t\\t\\t\\tfragmentColor = vec4(0,0,float(uIteration)/255.0,1.0);\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tfloat xTemp = x*x - y*y + x0;\\n\\t\\t\\t\\ty = 2.0*x*y + y0;\\n\\t\\t\\t\\tx = xTemp;\\n\\t\\t\\t\\tfragmentColor = vec4((x + 2.5)/3.5, (y + 1.0)/2.0, 0, 1.0);\\n\\t\\t\\t}\\n\\t\\t}\\n\\t\"\n\t};\n\t\n\texports.default = Mandelbrot;\n\n/***/ },\n\n/***/ 22:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _webgl = __webpack_require__(1);\n\t\n\tvar _stateProgram = __webpack_require__(4);\n\t\n\tvar _stateProgram2 = _interopRequireDefault(_stateProgram);\n\t\n\tvar _renderProgram = __webpack_require__(3);\n\t\n\tvar _renderProgram2 = _interopRequireDefault(_renderProgram);\n\t\n\tvar _mandelbrot = __webpack_require__(18);\n\t\n\tvar _mandelbrot2 = _interopRequireDefault(_mandelbrot);\n\t\n\tvar _identity2d = __webpack_require__(2);\n\t\n\tvar _identity2d2 = _interopRequireDefault(_identity2d);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tconsole.log('🐭');\n\t\n\tvar canvas = document.createElement('canvas');\n\tdocument.body.appendChild(canvas);\n\tvar gl = canvas.getContext('webgl2');\n\t\n\tvar golStateProgram = new _stateProgram2.default({ shaderSource: _mandelbrot2.default });\n\tvar golRenderProgram = new _renderProgram2.default({ shaderSource: _identity2d2.default });\n\t\n\t// // const uMousePosition = gl.getUniformLocation(shaderProgram, \"uMousePosition\");\n\t//\n\t//\n\t// // INTERACTION HANDLER\n\t// var mousePosition = [];\n\t// gl.canvas.addEventListener('mousemove', evt => {\n\t//   mousePosition = [\n\t//     (evt.clientX/gl.canvas.width - 0.5) * 2.0,\n\t//     (1.0 - evt.clientY/gl.canvas.height - 0.5) * 2.0\n\t//   ];\n\t// \t// draw();\n\t// });\n\t// END INTERACTION HANDLER\n\t\n\t// DRAW LOOP\n\tgl.clearColor(0, 0, 0, 1.0);\n\tgl.clear(gl.COLOR_BUFFER_BIT);\n\t\n\t//Initial state\n\t// const initialCanvas = document.createElement('canvas');\n\t// initialCanvas.width = gl.canvas.width;\n\t// initialCanvas.height = gl.canvas.height;\n\t// const context = initialCanvas.getContext('2d');\n\t// context.globalAlpha = 1.0;\n\tvar initialArray = Array(gl.canvas.width * gl.canvas.height * 4).fill(0);\n\tconsole.time('Init');\n\t// for (var i = 0; i < gl.canvas.width; i++) {\n\t// \tfor (var j = 0; j < gl.canvas.height; j++) {\n\t// \t\tif (Math.random() < 0.35) {\n\t// \t\t\t// context.fillStyle = 'red';\n\t// \t\t\t// context.fillRect(i, j, 1, 1);\n\t// \t\t\tinitialArray[(j*gl.canvas.width + i)*4] = 255;\n\t// \t\t\tinitialArray[(j*gl.canvas.width + i)*4+1] = 0.0;\n\t// \t\t\tinitialArray[(j*gl.canvas.width + i)*4+2] = 0.0;\n\t// \t\t\tinitialArray[(j*gl.canvas.width + i)*4+3] = 255;\n\t// \t\t} else {\n\t// \t\t\t// context.fillStyle = 'black';\n\t// \t\t\t// context.fillRect(i, j, 1, 1);\n\t// \t\t\tinitialArray[(j*gl.canvas.width + i)*4] = 0.0;\n\t// \t\t\tinitialArray[(j*gl.canvas.width + i)*4+1] = 0.0;\n\t// \t\t\tinitialArray[(j*gl.canvas.width + i)*4+2] = 0.0;\n\t// \t\t\tinitialArray[(j*gl.canvas.width + i)*4+3] = 255;\n\t// \t\t}\n\t// \t}\n\t// }\n\t// context.fillStyle = 'red';\n\t// context.fillRect(0, 0, 64, 64);\n\t// golStateProgram.setState(initialCanvas);\n\tgolStateProgram.setState(new ImageData(new Uint8ClampedArray(initialArray), gl.canvas.width, gl.canvas.height));\n\tconsole.timeEnd('Init');\n\t\n\tvar flip = 0;\n\t\n\tvar isPaused = true;\n\tfunction draw() {\n\t\t// gl.uniform2f(uMousePosition, mousePosition[0], mousePosition[1]);\n\t\n\t\t// golStateProgram.drawState();\n\t\n\t\tgolRenderProgram.draw(golStateProgram.stateTexture());\n\t\n\t\t// setTimeout(draw, 100);\n\t\tif (!isPaused) {\n\t\t\tgolStateProgram.incrementState();\n\t\t\trequestAnimationFrame(draw);\n\t\t}\n\t}\n\trequestAnimationFrame(draw);\n\t// END DRAW LOOP\n\t\n\tgl.canvas.addEventListener('click', function (evt) {\n\t\tgolStateProgram.incrementState();\n\t\tdraw();\n\t});\n\tdocument.addEventListener('keypress', function (evt) {\n\t\tconsole.log(evt);\n\t\tif (evt.key == 'p') {\n\t\t\tisPaused = !isPaused;\n\t\t}\n\t\tdraw();\n\t});\n\n/***/ }\n\n/******/ });\n\n\n/** WEBPACK FOOTER **\n ** mandelbrot.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 1b4e8a641ae7d993bd56\n **/","export function createProgram(vertexSource, fragmentSource, scale = 1) {\n\t// GLOBALS\n\tconst body = document.body;\n\tconst canvas = document.querySelector('canvas');\n\tconst gl = canvas.getContext('webgl2');\n\t// END GLOBALS\n\n\t// BEGIN WINDOW SIZING\n\tfunction resize() {\n\t\tconst size = Math.pow(2,Math.floor(Math.log2(Math.min(window.innerWidth, window.innerHeight))))*2*scale;\n\t\t// const size = 256;\n\t\tcanvas.width = size;\n\t\tcanvas.height = size;\n\t\tcanvas.style.width = size/2 + 'px';\n\t\tcanvas.style.height = size/2 + 'px';\n\n\t\t// Set viewport\n\t\tgl.viewport(0, 0, canvas.width, canvas.height);\n\t}\n\tresize();\n\n\twindow.addEventListener('resize', resize);\n\t// END WINDOW SIZING\n\n\t// GL SETTINGS\n\n\t// Color to draw on clear\n\tgl.clearColor(0,0,0,1);\n\n\t// Clear buffers\n\tgl.clear(gl.COLOR_BUFFER_BIT);\n\n\t// END GL SETTINGS\n\n\t// INITIALIZE SHADERS\n\n\t// CREATE VERTEX SHADER\n\tconst vertexShader = gl.createShader(gl.VERTEX_SHADER);\n\tgl.shaderSource(vertexShader, vertexSource);\n\tgl.compileShader(vertexShader);\n\tif (!gl.getShaderParameter(vertexShader, gl.COMPILE_STATUS)) {\n\t\tthrow new Error(\"An error occurred compiling the shader: \" + gl.getShaderInfoLog(vertexShader));\n\t}else{\n\t\tconsole.log(\"Vertex shader compiled\");\n\t}\n\t// END CREATE VERTEX SHADER\n\n\t// CREATE FRAGMENT SHADER\n\tconst fragmentShader = gl.createShader(gl.FRAGMENT_SHADER);\n\tgl.shaderSource(fragmentShader, fragmentSource);\n\tgl.compileShader(fragmentShader);\n\tif (!gl.getShaderParameter(fragmentShader, gl.COMPILE_STATUS)) {\n\t\tthrow new Error(\"An error occurred compiling the shader: \" + gl.getShaderInfoLog(fragmentShader));\n\t}else{\n\t\tconsole.log(\"Fragment shader compiled\");\n\t}\n\t// END CREATE FRAGMENT SHADER\n\n\t// COMPILE PROGRAM\n\tconst shaderProgram = gl.createProgram();\n\tgl.attachShader(shaderProgram, vertexShader);\n\tgl.attachShader(shaderProgram, fragmentShader);\n\tgl.linkProgram(shaderProgram);\n\n\tif (!gl.getProgramParameter(shaderProgram, gl.LINK_STATUS)) {\n\t\tthrow new Error(\"Unable to initialize the shader program.\");\n\t}else{\n\t\tconsole.log(\"Initialized shader program\");\n\t}\n\tgl.useProgram(shaderProgram);\n\t// END COMPILE PROGRAM\n\n\t// END INITIALIZE SHADERS\n\n\n\treturn {gl, shaderProgram};\n}\n\nexport function createTexture() {\n\tconst gl = document.querySelector('canvas').getContext('webgl2');\n\tconst tTexture = gl.createTexture();\n\tgl.activeTexture(gl.TEXTURE0);\n\tgl.bindTexture(gl.TEXTURE_2D, tTexture);\n\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.REPEAT);\n\t// gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.REPEAT);\n\t// gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n\tgl.bindTexture(gl.TEXTURE_2D, null);\n\treturn tTexture;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/gol/webgl.js\n **/","const Identity2D = {\n\tvertexSource: `#version 300 es\n\t\tprecision highp float;\n\t\tin vec3 aPosition;\n\t\tout vec2 vTexturePosition;\n\t\tout vec2 vPosition;\n\t\tvoid main(void) {\n\t\t\tvPosition = aPosition.xy;\n\t\t\tvTexturePosition = vec2(aPosition.x + 1.0, -1.0 + aPosition.y) * 0.5;\n\t\t\tgl_Position = vec4(aPosition, 1.0);\n\t\t}\n\t`,\n\tfragmentSource: `#version 300 es\n\t\tprecision highp float;\n\t\tuniform sampler2D uSampler;\n\t\tuniform float uScale;\n\t\tin vec2 vTexturePosition;\n\t\tin vec2 vPosition;\n\t\tout vec4 fragmentColor;\n\n\t\tvoid main(void) {\n\t\t\tfragmentColor = texture(uSampler, vTexturePosition/uScale);\n\t\t}\n\t`\n};\n\nexport default Identity2D;\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/gol/programs/identity2d.js\n **/","import {createProgram, createTexture} from './webgl';\n\nexport default class RenderProgram {\n\tconstructor({shaderSource, scale = 1}) {\n\t\tlet {gl, shaderProgram} = createProgram(shaderSource.vertexSource, shaderSource.fragmentSource, scale);\n\t\tthis.gl = gl;\n\t\tthis.shaderProgram = shaderProgram;\n\t\tthis.currentState = 0;\n\n\t\t// INITIALIZE BUFFERS\n\t\tthis.vertexBuffer = gl.createBuffer();\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.vertexBuffer);\n\t\tthis.vertices = [\n\t\t\t1, 1, 0,\n\t\t\t-1, 1, 0,\n\t\t\t1, -1, 0,\n\t\t\t-1, -1, 0\n\t\t];\n\t\tgl.bufferData(gl.ARRAY_BUFFER, new Float32Array(this.vertices), gl.STATIC_DRAW);\n\t\t// END INITIALIZE BUFFERS\n\n\t\t// POINTERS\n\t\tconst aPosition = gl.getAttribLocation(shaderProgram, \"aPosition\");\n\t\tgl.enableVertexAttribArray(aPosition);\n\t\t//gl.vertexAttribPointer(index, size, type, normalized, stride, offset);\n\t\tgl.vertexAttribPointer(aPosition, 3, gl.FLOAT, false, 0, 0);\n\n\t\tconst uWidth = gl.getUniformLocation(shaderProgram, \"uWidth\");\n\t\tgl.uniform1f(uWidth, gl.canvas.width);\n\n\t}\n\n\tdraw(stateTexture, predraw = ()=>{}) {\n\t\tconst gl = this.gl;\n\n\t\tgl.useProgram(this.shaderProgram);\n\t\tconst uScale = gl.getUniformLocation(this.shaderProgram, \"uScale\");\n\t\tgl.uniform1f(uScale, 1);\n\t\tpredraw();\n\t\tgl.bindTexture(gl.TEXTURE_2D, stateTexture);\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.vertexBuffer);\n\t\tgl.drawArrays(gl.TRIANGLE_STRIP, 0, this.vertices.length / 3);\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, null);\n\t\tgl.bindTexture(gl.TEXTURE_2D, null);\n\t}\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/gol/render-program.js\n **/","import {createProgram, createTexture} from './webgl';\n\nexport default class StateProgram {\n\tconstructor({shaderSource, scale = 1}) {\n\t\tlet {gl, shaderProgram} = createProgram(shaderSource.vertexSource, shaderSource.fragmentSource, scale);\n\t\tthis.gl = gl;\n\t\tthis.shaderProgram = shaderProgram;\n\t\tthis.currentState = 0;\n\t\tthis.iteration = 0;\n\n\t\t// INITIALIZE BUFFERS\n\t\tthis.vertexBuffer = gl.createBuffer();\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.vertexBuffer);\n\t\tthis.vertices = [\n\t\t\t1, 1, 0,\n\t\t\t-1, 1, 0,\n\t\t\t1, -1, 0,\n\t\t\t-1, -1, 0\n\t\t];\n\t\tgl.bufferData(gl.ARRAY_BUFFER, new Float32Array(this.vertices), gl.STATIC_DRAW);\n\t\t// END INITIALIZE BUFFERS\n\n\t\t// POINTERS\n\t\tconst aPosition = gl.getAttribLocation(shaderProgram, \"aPosition\");\n\t\tgl.enableVertexAttribArray(aPosition);\n\t\t//gl.vertexAttribPointer(index, size, type, normalized, stride, offset);\n\t\tgl.vertexAttribPointer(aPosition, 3, gl.FLOAT, false, 0, 0);\n\n\t\tconst uWidth = gl.getUniformLocation(shaderProgram, \"uWidth\");\n\t\tgl.uniform1f(uWidth, gl.canvas.width);\n\n\t\tthis.uShouldUpdate = gl.getUniformLocation(shaderProgram, \"uShouldUpdate\");\n\t\tthis.uIteration = gl.getUniformLocation(shaderProgram, \"uIteration\");\n\n\t\tthis.tTexture0 = createTexture();\n\t\tthis.tTexture1 = createTexture();\n\n\t\tthis.frameBuffer = gl.createFramebuffer();\n\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, this.frameBuffer);\n\t\tthis.frameBuffer.width = gl.canvas.width;\n\t\tthis.frameBuffer.height = gl.canvas.height;\n\t\tgl.bindTexture(gl.TEXTURE_2D, this.tTexture1);\n\t\tgl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, this.frameBuffer.width, this.frameBuffer.height, 0, gl.RGBA, gl.UNSIGNED_BYTE, null);\n\n\t\tvar renderBuffer = gl.createRenderbuffer();\n\t\tgl.bindRenderbuffer(gl.RENDERBUFFER, renderBuffer);\n\t\tgl.renderbufferStorage(gl.RENDERBUFFER, gl.DEPTH_COMPONENT16, this.frameBuffer.width, this.frameBuffer.height);\n\t\tgl.framebufferRenderbuffer(gl.FRAMEBUFFER, gl.DEPTH_ATTACHMENT, gl.RENDERBUFFER, renderBuffer);\n\n\t\tgl.bindRenderbuffer(gl.RENDERBUFFER, null);\n\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, null);\n\n\t}\n\n\tsetState(state) {\n\t\tconst gl = this.gl;\n\t\tgl.bindTexture(gl.TEXTURE_2D, this.tTexture0);\n\t\tgl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, state);\n\t\tgl.bindTexture(gl.TEXTURE_2D, null);\n\t}\n\n\tdrawState() {\n\t\tconst gl = this.gl;\n\t\tgl.useProgram(this.shaderProgram);\n\n\t\tgl.uniform1i(this.uShouldUpdate, 0);\n\n\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, null);\n\t\tif (this.currentState == 0) {\n\t\t\tgl.bindTexture(gl.TEXTURE_2D, this.tTexture0);\n\t\t} else {\n\t\t\tgl.bindTexture(gl.TEXTURE_2D, this.tTexture1);\n\t\t}\n\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.vertexBuffer);\n\t\tgl.drawArrays(gl.TRIANGLE_STRIP, 0, this.vertices.length / 3);\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, null);\n\n\t}\n\n\tincrementState({mousePosition}={}) {\n\t\tconst gl = this.gl;\n\t\tgl.useProgram(this.shaderProgram);\n\n\t\tgl.uniform1i(this.uShouldUpdate, 1);\n\t\tgl.uniform1i(this.uIteration, this.iteration);\n\t\tthis.iteration++;\n\n\t\tconst uMousePosition = gl.getUniformLocation(this.shaderProgram, \"uMousePosition\");\n\t\tif (mousePosition && mousePosition.length == 2) {\n\t\t\tgl.uniform2f(uMousePosition, mousePosition[0], mousePosition[1]);\n\t\t} else {\n\t\t\tgl.uniform2f(uMousePosition, -10, -10);\n\t\t}\n\n\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, this.frameBuffer);\n\t\tif (this.currentState == 0) {\n\t\t\tgl.bindTexture(gl.TEXTURE_2D, this.tTexture0);\n\t\t\tgl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, this.tTexture1, 0);\n\t\t} else {\n\t\t\tgl.bindTexture(gl.TEXTURE_2D, this.tTexture1);\n\t\t\tgl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, this.tTexture0, 0);\n\t\t}\n\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.vertexBuffer);\n\t\tgl.drawArrays(gl.TRIANGLE_STRIP, 0, this.vertices.length / 3);\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, null);\n\n\t\tgl.bindTexture(gl.TEXTURE_2D, null);\n\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, null);\n\n\t\tthis.currentState = (this.currentState + 1) % 2;\n\t}\n\n\tstateTexture() {\n\t\tif (this.currentState == 0) {\n\t\t\treturn this.tTexture0;\n\t\t} else {\n\t\t\treturn this.tTexture1;\n\t\t}\n\t}\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/gol/state-program.js\n **/","const Mandelbrot = {\n\tvertexSource: `#version 300 es\n\t\tprecision highp float;\n\t\tin vec3 aPosition;\n\t\tout vec2 vTexturePosition;\n\t\tout vec2 vPosition;\n\t\tvoid main(void) {\n\t\t\tvPosition = aPosition.xy;\n\t\t\tvTexturePosition = vec2(aPosition.x + 1.0, (1.0 + aPosition.y)) * 0.5;\n\t\t\tgl_Position = vec4(aPosition, 1.0);\n\t\t}\n\t`,\n\tfragmentSource: `#version 300 es\n\t\tprecision highp float;\n\t\tuniform sampler2D uSampler;\n\t\tuniform float uScale;\n    uniform int uIteration;\n\t\tin vec2 vTexturePosition;\n\t\tin vec2 vPosition;\n\t\tout vec4 fragmentColor;\n\n\t\tvoid main(void) {\n\t\t\tif (texture(uSampler, vTexturePosition).z > 0.0) {\n\t\t\t\tfragmentColor = vec4(0,0,texture(uSampler, vTexturePosition).z,1.0);\n\t\t\t\treturn;\n\t\t\t} else if (uIteration > 1000) {\n\t\t\t\tfragmentColor = vec4(0,0,0,1.0);\n\t\t\t\tfragmentColor = vec4(texture(uSampler, vTexturePosition).xyz, 1.0);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// x0 = scaled x coordinate of pixel (scaled to lie in the Mandelbrot X scale (-2.5, 1))\n\t\t\tfloat x0 = vTexturePosition.x * 3.5 - 2.5;\n      //  y0 = scaled y coordinate of pixel (scaled to lie in the Mandelbrot Y scale (-1, 1))\n\t\t\tfloat y0 = vTexturePosition.y * 2.0 - 1.0;\n      //  x = 0.0\n      //  y = 0.0\n      //  iteration = 0\n      //  max_iteration = 1000\n\t\t\tfloat x = (texture(uSampler, vTexturePosition).x) * 3.5 - 2.5;\n\t\t\tfloat y = (texture(uSampler, vTexturePosition).y) * 2.0 - 1.0;\n\t\t\tif (uIteration == 0) {\n\t\t\t\tx = 0.0;\n\t\t\t\ty = 0.0;\n\t\t\t}\n\t\t\t//  while (x*x + y*y < 2*2  AND  iteration < max_iteration) {\n      //    xtemp = x*x - y*y + x0\n      //    y = 2*x*y + y0\n      //    x = xtemp\n      //    iteration = iteration + 1\n      //  }\n\t\t\tif (x*x + y*y >= 1.0) {\n\t\t\t\tfragmentColor = vec4(0,0,float(uIteration)/255.0,1.0);\n\t\t\t} else {\n\t\t\t\tfloat xTemp = x*x - y*y + x0;\n\t\t\t\ty = 2.0*x*y + y0;\n\t\t\t\tx = xTemp;\n\t\t\t\tfragmentColor = vec4((x + 2.5)/3.5, (y + 1.0)/2.0, 0, 1.0);\n\t\t\t}\n\t\t}\n\t`\n};\n\nexport default Mandelbrot;\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/gol/programs/mandelbrot.js\n **/","import {createProgram} from './gol/webgl';\nimport StateProgram from './gol/state-program';\nimport RenderProgram from './gol/render-program';\nimport Mandelbrot from './gol/programs/mandelbrot';\nimport Identity2D from './gol/programs/identity2d';\n\nconsole.log('🐭');\n\nlet canvas = document.createElement('canvas');\ndocument.body.appendChild(canvas);\nlet gl = canvas.getContext('webgl2');\n\nlet golStateProgram = new StateProgram({shaderSource: Mandelbrot});\nlet golRenderProgram = new RenderProgram({shaderSource: Identity2D});\n\n// // const uMousePosition = gl.getUniformLocation(shaderProgram, \"uMousePosition\");\n//\n//\n// // INTERACTION HANDLER\n// var mousePosition = [];\n// gl.canvas.addEventListener('mousemove', evt => {\n//   mousePosition = [\n//     (evt.clientX/gl.canvas.width - 0.5) * 2.0,\n//     (1.0 - evt.clientY/gl.canvas.height - 0.5) * 2.0\n//   ];\n// \t// draw();\n// });\n// END INTERACTION HANDLER\n\n// DRAW LOOP\ngl.clearColor(0, 0, 0, 1.0);\ngl.clear(gl.COLOR_BUFFER_BIT);\n\n//Initial state\n// const initialCanvas = document.createElement('canvas');\n// initialCanvas.width = gl.canvas.width;\n// initialCanvas.height = gl.canvas.height;\n// const context = initialCanvas.getContext('2d');\n// context.globalAlpha = 1.0;\nconst initialArray = Array(gl.canvas.width * gl.canvas.height * 4).fill(0);\nconsole.time('Init');\n// for (var i = 0; i < gl.canvas.width; i++) {\n// \tfor (var j = 0; j < gl.canvas.height; j++) {\n// \t\tif (Math.random() < 0.35) {\n// \t\t\t// context.fillStyle = 'red';\n// \t\t\t// context.fillRect(i, j, 1, 1);\n// \t\t\tinitialArray[(j*gl.canvas.width + i)*4] = 255;\n// \t\t\tinitialArray[(j*gl.canvas.width + i)*4+1] = 0.0;\n// \t\t\tinitialArray[(j*gl.canvas.width + i)*4+2] = 0.0;\n// \t\t\tinitialArray[(j*gl.canvas.width + i)*4+3] = 255;\n// \t\t} else {\n// \t\t\t// context.fillStyle = 'black';\n// \t\t\t// context.fillRect(i, j, 1, 1);\n// \t\t\tinitialArray[(j*gl.canvas.width + i)*4] = 0.0;\n// \t\t\tinitialArray[(j*gl.canvas.width + i)*4+1] = 0.0;\n// \t\t\tinitialArray[(j*gl.canvas.width + i)*4+2] = 0.0;\n// \t\t\tinitialArray[(j*gl.canvas.width + i)*4+3] = 255;\n// \t\t}\n// \t}\n// }\n// context.fillStyle = 'red';\n// context.fillRect(0, 0, 64, 64);\n// golStateProgram.setState(initialCanvas);\ngolStateProgram.setState(new ImageData(new Uint8ClampedArray(initialArray), gl.canvas.width, gl.canvas.height));\nconsole.timeEnd('Init');\n\n\nlet flip = 0;\n\nvar isPaused = true;\nfunction draw() {\n\t// gl.uniform2f(uMousePosition, mousePosition[0], mousePosition[1]);\n\n\t// golStateProgram.drawState();\n\n\n\tgolRenderProgram.draw(golStateProgram.stateTexture());\n\n  // setTimeout(draw, 100);\n\tif (!isPaused) {\n\t\tgolStateProgram.incrementState();\n\t\trequestAnimationFrame(draw);\n\t}\n}\nrequestAnimationFrame(draw);\n// END DRAW LOOP\n\ngl.canvas.addEventListener('click', evt => {\n\tgolStateProgram.incrementState();\n\tdraw();\n});\ndocument.addEventListener('keypress', evt => {\n\tconsole.log(evt);\n\tif (evt.key == 'p') {\n\t\tisPaused = !isPaused;\n\t}\n\tdraw();\n});\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/mandelbrot.js\n **/"],"sourceRoot":""}